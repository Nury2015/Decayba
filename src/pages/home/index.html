<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DECAYBA - Tienda de Mascotas</title>

    <link rel="stylesheet" href="../../assets/css/global.css" />
    <link rel="stylesheet" href="../../assets/css/header.css" />
    <link rel="stylesheet" href="../../assets/css/home.css" />
    <link rel="stylesheet" href="../../assets/css/footer.css" />
    <link rel="stylesheet" href="../../assets/css/carrito.css" />
     <link rel="stylesheet" href="../../assets/css/mobile.css" />

    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />
  </head>


  <body>
    <div id="contenedor-hamburguesa"></div>

    <div id="contenedor-menu"></div>
    <div id="toast" class="toast"></div>
 <nav>
    <a href="../../pages/home/index.html">
      <img src="../../assets/icon/icon_menu.svg" alt="menu" class="menu" />
    </a>

    <div class="navbar-left">
      <a href="../../pages/home/index.html">
        <img src="../../assets/logos/logodecayba.png" alt="logo" class="logo" />
      </a>

      <ul>
        <li>
          <a href="../../pages/home/Misordenes.html"> Tus pedidos </a>
        </li>

        <li>
          <a href="../../pages/cosmetic/belleza.html">Belleza</a>
        </li>

        <li>
          <a href="../../pages/home/hogar.html">Hogar</a>
        </li>

        <li>
          <a href="../../pages/pets/mascotas.html">Mascotas</a>
        </li>

        <li>
          <a href="../../pages/Toys/juguetes.html">Juguetes</a>
        </li>

       
      </ul>
    </div>

    <div class="navbar-right">
      <ul>
        <li class="navbar-email">
          <a href="editar-cuenta.html"> camila@gmail.com </a>
        </li>

        <li class="navbar-shopping-cart">
          <a id="ver-carrito">
            <img src="../../assets/icon/icon_shopping_cart.svg" alt="shopping cart" />
            <div>0</div>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <section class="main-container">
    <div class="card-container" id="card-container"></div>
  </section>
    <section class="main-container">
      <div class="card-container" id="card-container"></div>

      <aside class="product-detail" id="product-detail">
          <a href="../../pages/home/index.html"><img class="cerrar" src="../../assets/icon/icon_close.png" alt="Volver" /></a>
      <div class="title-container">
      
        <p class="title">Resumen del pedido</p>

      </div>

      <!-- Carrito -->
      <div class="my-order-content" id="cart-content"></div>

      <!-- Bot√≥n WhatsApp -->
      <div class="verificar">
        <a href="#" class="btn-whatsapp" id="btn-whatsapp">WhatsApp</a>
      </div>

      <!-- Bot√≥n Ver Carrito -->
      <div class="verificar">
        <a href="./../cart/carrito.html" class="btn-carrito" id="btn-carrito">Ver Carrito</a>
      </div>

    </aside>

    </section>

    <footer>¬© <span id="year"></span> DECAYBA ¬∑ Hecho con ‚ù§</footer>

    <!-- Scripts -->

    <script type="module" src="../../assets/js/main.js"></script>
    <script type="module" src="../../services/productos.js"></script>
    <script type="module" src="../../detalleproducto.js"></script>
   <script type="module" src="../../assets/js/modules/mobile.js"></script>

    


    <script type="module">
            const btnWhatsapp = document.getElementById('btn-whatsapp');
        // if (!btnWhatsapp) return false;

        btnWhatsapp.addEventListener('click', e => {
          e.preventDefault();

          const numero = '573154380079'; // Tu n√∫mero de WhatsApp
          const cart = JSON.parse(localStorage.getItem("carrito")) || [];

          if (cart.length === 0) {
            alert("Tu carrito est√° vac√≠o.");
            return;
          }

          let mensaje = "üõçÔ∏è *Resumen de tu pedido* üíï\n\n";

          cart.forEach(item => {
            const subtotal = item.precio * item.cantidad;
            mensaje += `*${item.nombre}*\n`;
            mensaje += `Cantidad: ${item.cantidad}\n`;
            mensaje += `Precio unitario: $${item.precio.toLocaleString()}\n`;
            mensaje += `Subtotal: $${subtotal.toLocaleString()}\n\n`;
          });

          const total = cart.reduce((acc, item) => acc + item.precio * item.cantidad, 0);
          mensaje += `üí∞ *Total a pagar:* $${total.toLocaleString()}\n\n`;
          mensaje += `‚úÖ Gracias por tu compra üíñ‚ú®`;

          const msg = encodeURIComponent(mensaje);
          window.open(`https://wa.me/${numero}?text=${msg}`, '_blank');
        });



  // Cargar el HTML del men√∫ hamburguesa
  fetch('../../components/menuMobile.html')
    .then(response => response.text())
    .then(async html => {
      document.getElementById('contenedor-hamburguesa').innerHTML = html;

      // importar la funci√≥n desde el m√≥dulo
      const { activarMenuHamburguesa } = await import('../../assets/js/modules/mobile.js');
      activarMenuHamburguesa();
    });
</script>
 

  </body>
</html>
